name: Demo GitHub Actions

# 1. KHI NÀO CHẠY? (Trigger)
# Chạy khi có code được push vào nhánh main
on:
  push:
    branches: [ "main" ]
  # Hoặc khi có ai đó tạo Pull Request
  pull_request:
    branches: [ "main" ]

# 2. CHẠY CÁI GÌ? (Jobs)
jobs:
  build-and-test:
    # Chạy trên máy ảo Ubuntu mới nhất do GitHub cung cấp
    runs-on: ubuntu-latest

    # 3. CÁC BƯỚC THỰC HIỆN (Steps)
    steps:
    # Bước A: Lấy code từ kho lưu trữ về máy ảo
    - name: Checkout code
      uses: actions/checkout@v4

    # Bước B: Cài đặt môi trường Node.js (vì dự án bạn là React)
    - name: Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        cache: 'npm' # Giúp cài thư viện nhanh hơn ở các lần sau

    # Bước C: Cài đặt các thư viện (như Selenium, React...)
    - name: Install Dependencies
      run: npm install

    # Bước D: Chạy thử nghiệm (Test)
    # Lệnh này sẽ gọi script "test" trong file package.json của bạn
    - name: Run Tests
      run: npm test